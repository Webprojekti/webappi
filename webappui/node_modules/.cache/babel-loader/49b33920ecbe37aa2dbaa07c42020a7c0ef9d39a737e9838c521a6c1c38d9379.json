{"ast":null,"code":"import { parseMillis, isUndefined, untruncateYear, signedOffset, hasOwnProperty } from \"./util.js\";\nimport Formatter from \"./formatter.js\";\nimport FixedOffsetZone from \"../zones/fixedOffsetZone.js\";\nimport IANAZone from \"../zones/IANAZone.js\";\nimport DateTime from \"../datetime.js\";\nimport { digitRegex, parseDigits } from \"./digits.js\";\nimport { ConflictingSpecificationError } from \"../errors.js\";\nconst MISSING_FTP = \"missing Intl.DateTimeFormat.formatToParts support\";\nfunction intUnit(regex) {\n  let post = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : i => i;\n  return {\n    regex,\n    deser: _ref => {\n      let [s] = _ref;\n      return post(parseDigits(s));\n    }\n  };\n}\nconst NBSP = String.fromCharCode(160);\nconst spaceOrNBSP = `[ ${NBSP}]`;\nconst spaceOrNBSPRegExp = new RegExp(spaceOrNBSP, \"g\");\nfunction fixListRegex(s) {\n  // make dots optional and also make them literal\n  // make space and non breakable space characters interchangeable\n  return s.replace(/\\./g, \"\\\\.?\").replace(spaceOrNBSPRegExp, spaceOrNBSP);\n}\nfunction stripInsensitivities(s) {\n  return s.replace(/\\./g, \"\") // ignore dots that were made optional\n  .replace(spaceOrNBSPRegExp, \" \") // interchange space and nbsp\n  .toLowerCase();\n}\nfunction oneOf(strings, startIndex) {\n  if (strings === null) {\n    return null;\n  } else {\n    return {\n      regex: RegExp(strings.map(fixListRegex).join(\"|\")),\n      deser: _ref2 => {\n        let [s] = _ref2;\n        return strings.findIndex(i => stripInsensitivities(s) === stripInsensitivities(i)) + startIndex;\n      }\n    };\n  }\n}\nfunction offset(regex, groups) {\n  return {\n    regex,\n    deser: _ref3 => {\n      let [, h, m] = _ref3;\n      return signedOffset(h, m);\n    },\n    groups\n  };\n}\nfunction simple(regex) {\n  return {\n    regex,\n    deser: _ref4 => {\n      let [s] = _ref4;\n      return s;\n    }\n  };\n}\nfunction escapeToken(value) {\n  return value.replace(/[\\-\\[\\]{}()*+?.,\\\\\\^$|#\\s]/g, \"\\\\$&\");\n}\nfunction unitForToken(token, loc) {\n  const one = digitRegex(loc),\n    two = digitRegex(loc, \"{2}\"),\n    three = digitRegex(loc, \"{3}\"),\n    four = digitRegex(loc, \"{4}\"),\n    six = digitRegex(loc, \"{6}\"),\n    oneOrTwo = digitRegex(loc, \"{1,2}\"),\n    oneToThree = digitRegex(loc, \"{1,3}\"),\n    oneToSix = digitRegex(loc, \"{1,6}\"),\n    oneToNine = digitRegex(loc, \"{1,9}\"),\n    twoToFour = digitRegex(loc, \"{2,4}\"),\n    fourToSix = digitRegex(loc, \"{4,6}\"),\n    literal = t => ({\n      regex: RegExp(escapeToken(t.val)),\n      deser: _ref5 => {\n        let [s] = _ref5;\n        return s;\n      },\n      literal: true\n    }),\n    unitate = t => {\n      if (token.literal) {\n        return literal(t);\n      }\n      switch (t.val) {\n        // era\n        case \"G\":\n          return oneOf(loc.eras(\"short\", false), 0);\n        case \"GG\":\n          return oneOf(loc.eras(\"long\", false), 0);\n        // years\n        case \"y\":\n          return intUnit(oneToSix);\n        case \"yy\":\n          return intUnit(twoToFour, untruncateYear);\n        case \"yyyy\":\n          return intUnit(four);\n        case \"yyyyy\":\n          return intUnit(fourToSix);\n        case \"yyyyyy\":\n          return intUnit(six);\n        // months\n        case \"M\":\n          return intUnit(oneOrTwo);\n        case \"MM\":\n          return intUnit(two);\n        case \"MMM\":\n          return oneOf(loc.months(\"short\", true, false), 1);\n        case \"MMMM\":\n          return oneOf(loc.months(\"long\", true, false), 1);\n        case \"L\":\n          return intUnit(oneOrTwo);\n        case \"LL\":\n          return intUnit(two);\n        case \"LLL\":\n          return oneOf(loc.months(\"short\", false, false), 1);\n        case \"LLLL\":\n          return oneOf(loc.months(\"long\", false, false), 1);\n        // dates\n        case \"d\":\n          return intUnit(oneOrTwo);\n        case \"dd\":\n          return intUnit(two);\n        // ordinals\n        case \"o\":\n          return intUnit(oneToThree);\n        case \"ooo\":\n          return intUnit(three);\n        // time\n        case \"HH\":\n          return intUnit(two);\n        case \"H\":\n          return intUnit(oneOrTwo);\n        case \"hh\":\n          return intUnit(two);\n        case \"h\":\n          return intUnit(oneOrTwo);\n        case \"mm\":\n          return intUnit(two);\n        case \"m\":\n          return intUnit(oneOrTwo);\n        case \"q\":\n          return intUnit(oneOrTwo);\n        case \"qq\":\n          return intUnit(two);\n        case \"s\":\n          return intUnit(oneOrTwo);\n        case \"ss\":\n          return intUnit(two);\n        case \"S\":\n          return intUnit(oneToThree);\n        case \"SSS\":\n          return intUnit(three);\n        case \"u\":\n          return simple(oneToNine);\n        case \"uu\":\n          return simple(oneOrTwo);\n        case \"uuu\":\n          return intUnit(one);\n        // meridiem\n        case \"a\":\n          return oneOf(loc.meridiems(), 0);\n        // weekYear (k)\n        case \"kkkk\":\n          return intUnit(four);\n        case \"kk\":\n          return intUnit(twoToFour, untruncateYear);\n        // weekNumber (W)\n        case \"W\":\n          return intUnit(oneOrTwo);\n        case \"WW\":\n          return intUnit(two);\n        // weekdays\n        case \"E\":\n        case \"c\":\n          return intUnit(one);\n        case \"EEE\":\n          return oneOf(loc.weekdays(\"short\", false, false), 1);\n        case \"EEEE\":\n          return oneOf(loc.weekdays(\"long\", false, false), 1);\n        case \"ccc\":\n          return oneOf(loc.weekdays(\"short\", true, false), 1);\n        case \"cccc\":\n          return oneOf(loc.weekdays(\"long\", true, false), 1);\n        // offset/zone\n        case \"Z\":\n        case \"ZZ\":\n          return offset(new RegExp(`([+-]${oneOrTwo.source})(?::(${two.source}))?`), 2);\n        case \"ZZZ\":\n          return offset(new RegExp(`([+-]${oneOrTwo.source})(${two.source})?`), 2);\n        // we don't support ZZZZ (PST) or ZZZZZ (Pacific Standard Time) in parsing\n        // because we don't have any way to figure out what they are\n        case \"z\":\n          return simple(/[a-z_+-/]{1,256}?/i);\n        default:\n          return literal(t);\n      }\n    };\n  const unit = unitate(token) || {\n    invalidReason: MISSING_FTP\n  };\n  unit.token = token;\n  return unit;\n}\nconst partTypeStyleToTokenVal = {\n  year: {\n    \"2-digit\": \"yy\",\n    numeric: \"yyyyy\"\n  },\n  month: {\n    numeric: \"M\",\n    \"2-digit\": \"MM\",\n    short: \"MMM\",\n    long: \"MMMM\"\n  },\n  day: {\n    numeric: \"d\",\n    \"2-digit\": \"dd\"\n  },\n  weekday: {\n    short: \"EEE\",\n    long: \"EEEE\"\n  },\n  dayperiod: \"a\",\n  dayPeriod: \"a\",\n  hour: {\n    numeric: \"h\",\n    \"2-digit\": \"hh\"\n  },\n  minute: {\n    numeric: \"m\",\n    \"2-digit\": \"mm\"\n  },\n  second: {\n    numeric: \"s\",\n    \"2-digit\": \"ss\"\n  },\n  timeZoneName: {\n    long: \"ZZZZZ\",\n    short: \"ZZZ\"\n  }\n};\nfunction tokenForPart(part, locale, formatOpts) {\n  const {\n    type,\n    value\n  } = part;\n  if (type === \"literal\") {\n    return {\n      literal: true,\n      val: value\n    };\n  }\n  const style = formatOpts[type];\n  let val = partTypeStyleToTokenVal[type];\n  if (typeof val === \"object\") {\n    val = val[style];\n  }\n  if (val) {\n    return {\n      literal: false,\n      val\n    };\n  }\n  return undefined;\n}\nfunction buildRegex(units) {\n  const re = units.map(u => u.regex).reduce((f, r) => `${f}(${r.source})`, \"\");\n  return [`^${re}$`, units];\n}\nfunction match(input, regex, handlers) {\n  const matches = input.match(regex);\n  if (matches) {\n    const all = {};\n    let matchIndex = 1;\n    for (const i in handlers) {\n      if (hasOwnProperty(handlers, i)) {\n        const h = handlers[i],\n          groups = h.groups ? h.groups + 1 : 1;\n        if (!h.literal && h.token) {\n          all[h.token.val[0]] = h.deser(matches.slice(matchIndex, matchIndex + groups));\n        }\n        matchIndex += groups;\n      }\n    }\n    return [matches, all];\n  } else {\n    return [matches, {}];\n  }\n}\nfunction dateTimeFromMatches(matches) {\n  const toField = token => {\n    switch (token) {\n      case \"S\":\n        return \"millisecond\";\n      case \"s\":\n        return \"second\";\n      case \"m\":\n        return \"minute\";\n      case \"h\":\n      case \"H\":\n        return \"hour\";\n      case \"d\":\n        return \"day\";\n      case \"o\":\n        return \"ordinal\";\n      case \"L\":\n      case \"M\":\n        return \"month\";\n      case \"y\":\n        return \"year\";\n      case \"E\":\n      case \"c\":\n        return \"weekday\";\n      case \"W\":\n        return \"weekNumber\";\n      case \"k\":\n        return \"weekYear\";\n      case \"q\":\n        return \"quarter\";\n      default:\n        return null;\n    }\n  };\n  let zone = null;\n  let specificOffset;\n  if (!isUndefined(matches.z)) {\n    zone = IANAZone.create(matches.z);\n  }\n  if (!isUndefined(matches.Z)) {\n    if (!zone) {\n      zone = new FixedOffsetZone(matches.Z);\n    }\n    specificOffset = matches.Z;\n  }\n  if (!isUndefined(matches.q)) {\n    matches.M = (matches.q - 1) * 3 + 1;\n  }\n  if (!isUndefined(matches.h)) {\n    if (matches.h < 12 && matches.a === 1) {\n      matches.h += 12;\n    } else if (matches.h === 12 && matches.a === 0) {\n      matches.h = 0;\n    }\n  }\n  if (matches.G === 0 && matches.y) {\n    matches.y = -matches.y;\n  }\n  if (!isUndefined(matches.u)) {\n    matches.S = parseMillis(matches.u);\n  }\n  const vals = Object.keys(matches).reduce((r, k) => {\n    const f = toField(k);\n    if (f) {\n      r[f] = matches[k];\n    }\n    return r;\n  }, {});\n  return [vals, zone, specificOffset];\n}\nlet dummyDateTimeCache = null;\nfunction getDummyDateTime() {\n  if (!dummyDateTimeCache) {\n    dummyDateTimeCache = DateTime.fromMillis(1555555555555);\n  }\n  return dummyDateTimeCache;\n}\nfunction maybeExpandMacroToken(token, locale) {\n  if (token.literal) {\n    return token;\n  }\n  const formatOpts = Formatter.macroTokenToFormatOpts(token.val);\n  const tokens = formatOptsToTokens(formatOpts, locale);\n  if (tokens == null || tokens.includes(undefined)) {\n    return token;\n  }\n  return tokens;\n}\nexport function expandMacroTokens(tokens, locale) {\n  return Array.prototype.concat(...tokens.map(t => maybeExpandMacroToken(t, locale)));\n}\n\n/**\r\n * @private\r\n */\n\nexport function explainFromTokens(locale, input, format) {\n  const tokens = expandMacroTokens(Formatter.parseFormat(format), locale),\n    units = tokens.map(t => unitForToken(t, locale)),\n    disqualifyingUnit = units.find(t => t.invalidReason);\n  if (disqualifyingUnit) {\n    return {\n      input,\n      tokens,\n      invalidReason: disqualifyingUnit.invalidReason\n    };\n  } else {\n    const [regexString, handlers] = buildRegex(units),\n      regex = RegExp(regexString, \"i\"),\n      [rawMatches, matches] = match(input, regex, handlers),\n      [result, zone, specificOffset] = matches ? dateTimeFromMatches(matches) : [null, null, undefined];\n    if (hasOwnProperty(matches, \"a\") && hasOwnProperty(matches, \"H\")) {\n      throw new ConflictingSpecificationError(\"Can't include meridiem when specifying 24-hour format\");\n    }\n    return {\n      input,\n      tokens,\n      regex,\n      rawMatches,\n      matches,\n      result,\n      zone,\n      specificOffset\n    };\n  }\n}\nexport function parseFromTokens(locale, input, format) {\n  const {\n    result,\n    zone,\n    specificOffset,\n    invalidReason\n  } = explainFromTokens(locale, input, format);\n  return [result, zone, specificOffset, invalidReason];\n}\nexport function formatOptsToTokens(formatOpts, locale) {\n  if (!formatOpts) {\n    return null;\n  }\n  const formatter = Formatter.create(locale, formatOpts);\n  const parts = formatter.formatDateTimeParts(getDummyDateTime());\n  return parts.map(p => tokenForPart(p, locale, formatOpts));\n}","map":{"version":3,"names":["parseMillis","isUndefined","untruncateYear","signedOffset","hasOwnProperty","Formatter","FixedOffsetZone","IANAZone","DateTime","digitRegex","parseDigits","ConflictingSpecificationError","MISSING_FTP","intUnit","regex","post","i","deser","s","NBSP","String","fromCharCode","spaceOrNBSP","spaceOrNBSPRegExp","RegExp","fixListRegex","replace","stripInsensitivities","toLowerCase","oneOf","strings","startIndex","map","join","findIndex","offset","groups","h","m","simple","escapeToken","value","unitForToken","token","loc","one","two","three","four","six","oneOrTwo","oneToThree","oneToSix","oneToNine","twoToFour","fourToSix","literal","t","val","unitate","eras","months","meridiems","weekdays","source","unit","invalidReason","partTypeStyleToTokenVal","year","numeric","month","short","long","day","weekday","dayperiod","dayPeriod","hour","minute","second","timeZoneName","tokenForPart","part","locale","formatOpts","type","style","undefined","buildRegex","units","re","u","reduce","f","r","match","input","handlers","matches","all","matchIndex","slice","dateTimeFromMatches","toField","zone","specificOffset","z","create","Z","q","M","a","G","y","S","vals","Object","keys","k","dummyDateTimeCache","getDummyDateTime","fromMillis","maybeExpandMacroToken","macroTokenToFormatOpts","tokens","formatOptsToTokens","includes","expandMacroTokens","Array","prototype","concat","explainFromTokens","format","parseFormat","disqualifyingUnit","find","regexString","rawMatches","result","parseFromTokens","formatter","parts","formatDateTimeParts","p"],"sources":["C:/Users/tmkyl/Documents/OAMK/Syksy22projekti/NYKYNEN/webappi/webappi/webappui/node_modules/luxon/src/impl/tokenParser.js"],"sourcesContent":["import { parseMillis, isUndefined, untruncateYear, signedOffset, hasOwnProperty } from \"./util.js\";\r\nimport Formatter from \"./formatter.js\";\r\nimport FixedOffsetZone from \"../zones/fixedOffsetZone.js\";\r\nimport IANAZone from \"../zones/IANAZone.js\";\r\nimport DateTime from \"../datetime.js\";\r\nimport { digitRegex, parseDigits } from \"./digits.js\";\r\nimport { ConflictingSpecificationError } from \"../errors.js\";\r\n\r\nconst MISSING_FTP = \"missing Intl.DateTimeFormat.formatToParts support\";\r\n\r\nfunction intUnit(regex, post = (i) => i) {\r\n  return { regex, deser: ([s]) => post(parseDigits(s)) };\r\n}\r\n\r\nconst NBSP = String.fromCharCode(160);\r\nconst spaceOrNBSP = `[ ${NBSP}]`;\r\nconst spaceOrNBSPRegExp = new RegExp(spaceOrNBSP, \"g\");\r\n\r\nfunction fixListRegex(s) {\r\n  // make dots optional and also make them literal\r\n  // make space and non breakable space characters interchangeable\r\n  return s.replace(/\\./g, \"\\\\.?\").replace(spaceOrNBSPRegExp, spaceOrNBSP);\r\n}\r\n\r\nfunction stripInsensitivities(s) {\r\n  return s\r\n    .replace(/\\./g, \"\") // ignore dots that were made optional\r\n    .replace(spaceOrNBSPRegExp, \" \") // interchange space and nbsp\r\n    .toLowerCase();\r\n}\r\n\r\nfunction oneOf(strings, startIndex) {\r\n  if (strings === null) {\r\n    return null;\r\n  } else {\r\n    return {\r\n      regex: RegExp(strings.map(fixListRegex).join(\"|\")),\r\n      deser: ([s]) =>\r\n        strings.findIndex((i) => stripInsensitivities(s) === stripInsensitivities(i)) + startIndex,\r\n    };\r\n  }\r\n}\r\n\r\nfunction offset(regex, groups) {\r\n  return { regex, deser: ([, h, m]) => signedOffset(h, m), groups };\r\n}\r\n\r\nfunction simple(regex) {\r\n  return { regex, deser: ([s]) => s };\r\n}\r\n\r\nfunction escapeToken(value) {\r\n  return value.replace(/[\\-\\[\\]{}()*+?.,\\\\\\^$|#\\s]/g, \"\\\\$&\");\r\n}\r\n\r\nfunction unitForToken(token, loc) {\r\n  const one = digitRegex(loc),\r\n    two = digitRegex(loc, \"{2}\"),\r\n    three = digitRegex(loc, \"{3}\"),\r\n    four = digitRegex(loc, \"{4}\"),\r\n    six = digitRegex(loc, \"{6}\"),\r\n    oneOrTwo = digitRegex(loc, \"{1,2}\"),\r\n    oneToThree = digitRegex(loc, \"{1,3}\"),\r\n    oneToSix = digitRegex(loc, \"{1,6}\"),\r\n    oneToNine = digitRegex(loc, \"{1,9}\"),\r\n    twoToFour = digitRegex(loc, \"{2,4}\"),\r\n    fourToSix = digitRegex(loc, \"{4,6}\"),\r\n    literal = (t) => ({ regex: RegExp(escapeToken(t.val)), deser: ([s]) => s, literal: true }),\r\n    unitate = (t) => {\r\n      if (token.literal) {\r\n        return literal(t);\r\n      }\r\n      switch (t.val) {\r\n        // era\r\n        case \"G\":\r\n          return oneOf(loc.eras(\"short\", false), 0);\r\n        case \"GG\":\r\n          return oneOf(loc.eras(\"long\", false), 0);\r\n        // years\r\n        case \"y\":\r\n          return intUnit(oneToSix);\r\n        case \"yy\":\r\n          return intUnit(twoToFour, untruncateYear);\r\n        case \"yyyy\":\r\n          return intUnit(four);\r\n        case \"yyyyy\":\r\n          return intUnit(fourToSix);\r\n        case \"yyyyyy\":\r\n          return intUnit(six);\r\n        // months\r\n        case \"M\":\r\n          return intUnit(oneOrTwo);\r\n        case \"MM\":\r\n          return intUnit(two);\r\n        case \"MMM\":\r\n          return oneOf(loc.months(\"short\", true, false), 1);\r\n        case \"MMMM\":\r\n          return oneOf(loc.months(\"long\", true, false), 1);\r\n        case \"L\":\r\n          return intUnit(oneOrTwo);\r\n        case \"LL\":\r\n          return intUnit(two);\r\n        case \"LLL\":\r\n          return oneOf(loc.months(\"short\", false, false), 1);\r\n        case \"LLLL\":\r\n          return oneOf(loc.months(\"long\", false, false), 1);\r\n        // dates\r\n        case \"d\":\r\n          return intUnit(oneOrTwo);\r\n        case \"dd\":\r\n          return intUnit(two);\r\n        // ordinals\r\n        case \"o\":\r\n          return intUnit(oneToThree);\r\n        case \"ooo\":\r\n          return intUnit(three);\r\n        // time\r\n        case \"HH\":\r\n          return intUnit(two);\r\n        case \"H\":\r\n          return intUnit(oneOrTwo);\r\n        case \"hh\":\r\n          return intUnit(two);\r\n        case \"h\":\r\n          return intUnit(oneOrTwo);\r\n        case \"mm\":\r\n          return intUnit(two);\r\n        case \"m\":\r\n          return intUnit(oneOrTwo);\r\n        case \"q\":\r\n          return intUnit(oneOrTwo);\r\n        case \"qq\":\r\n          return intUnit(two);\r\n        case \"s\":\r\n          return intUnit(oneOrTwo);\r\n        case \"ss\":\r\n          return intUnit(two);\r\n        case \"S\":\r\n          return intUnit(oneToThree);\r\n        case \"SSS\":\r\n          return intUnit(three);\r\n        case \"u\":\r\n          return simple(oneToNine);\r\n        case \"uu\":\r\n          return simple(oneOrTwo);\r\n        case \"uuu\":\r\n          return intUnit(one);\r\n        // meridiem\r\n        case \"a\":\r\n          return oneOf(loc.meridiems(), 0);\r\n        // weekYear (k)\r\n        case \"kkkk\":\r\n          return intUnit(four);\r\n        case \"kk\":\r\n          return intUnit(twoToFour, untruncateYear);\r\n        // weekNumber (W)\r\n        case \"W\":\r\n          return intUnit(oneOrTwo);\r\n        case \"WW\":\r\n          return intUnit(two);\r\n        // weekdays\r\n        case \"E\":\r\n        case \"c\":\r\n          return intUnit(one);\r\n        case \"EEE\":\r\n          return oneOf(loc.weekdays(\"short\", false, false), 1);\r\n        case \"EEEE\":\r\n          return oneOf(loc.weekdays(\"long\", false, false), 1);\r\n        case \"ccc\":\r\n          return oneOf(loc.weekdays(\"short\", true, false), 1);\r\n        case \"cccc\":\r\n          return oneOf(loc.weekdays(\"long\", true, false), 1);\r\n        // offset/zone\r\n        case \"Z\":\r\n        case \"ZZ\":\r\n          return offset(new RegExp(`([+-]${oneOrTwo.source})(?::(${two.source}))?`), 2);\r\n        case \"ZZZ\":\r\n          return offset(new RegExp(`([+-]${oneOrTwo.source})(${two.source})?`), 2);\r\n        // we don't support ZZZZ (PST) or ZZZZZ (Pacific Standard Time) in parsing\r\n        // because we don't have any way to figure out what they are\r\n        case \"z\":\r\n          return simple(/[a-z_+-/]{1,256}?/i);\r\n        default:\r\n          return literal(t);\r\n      }\r\n    };\r\n\r\n  const unit = unitate(token) || {\r\n    invalidReason: MISSING_FTP,\r\n  };\r\n\r\n  unit.token = token;\r\n\r\n  return unit;\r\n}\r\n\r\nconst partTypeStyleToTokenVal = {\r\n  year: {\r\n    \"2-digit\": \"yy\",\r\n    numeric: \"yyyyy\",\r\n  },\r\n  month: {\r\n    numeric: \"M\",\r\n    \"2-digit\": \"MM\",\r\n    short: \"MMM\",\r\n    long: \"MMMM\",\r\n  },\r\n  day: {\r\n    numeric: \"d\",\r\n    \"2-digit\": \"dd\",\r\n  },\r\n  weekday: {\r\n    short: \"EEE\",\r\n    long: \"EEEE\",\r\n  },\r\n  dayperiod: \"a\",\r\n  dayPeriod: \"a\",\r\n  hour: {\r\n    numeric: \"h\",\r\n    \"2-digit\": \"hh\",\r\n  },\r\n  minute: {\r\n    numeric: \"m\",\r\n    \"2-digit\": \"mm\",\r\n  },\r\n  second: {\r\n    numeric: \"s\",\r\n    \"2-digit\": \"ss\",\r\n  },\r\n  timeZoneName: {\r\n    long: \"ZZZZZ\",\r\n    short: \"ZZZ\",\r\n  },\r\n};\r\n\r\nfunction tokenForPart(part, locale, formatOpts) {\r\n  const { type, value } = part;\r\n\r\n  if (type === \"literal\") {\r\n    return {\r\n      literal: true,\r\n      val: value,\r\n    };\r\n  }\r\n\r\n  const style = formatOpts[type];\r\n\r\n  let val = partTypeStyleToTokenVal[type];\r\n  if (typeof val === \"object\") {\r\n    val = val[style];\r\n  }\r\n\r\n  if (val) {\r\n    return {\r\n      literal: false,\r\n      val,\r\n    };\r\n  }\r\n\r\n  return undefined;\r\n}\r\n\r\nfunction buildRegex(units) {\r\n  const re = units.map((u) => u.regex).reduce((f, r) => `${f}(${r.source})`, \"\");\r\n  return [`^${re}$`, units];\r\n}\r\n\r\nfunction match(input, regex, handlers) {\r\n  const matches = input.match(regex);\r\n\r\n  if (matches) {\r\n    const all = {};\r\n    let matchIndex = 1;\r\n    for (const i in handlers) {\r\n      if (hasOwnProperty(handlers, i)) {\r\n        const h = handlers[i],\r\n          groups = h.groups ? h.groups + 1 : 1;\r\n        if (!h.literal && h.token) {\r\n          all[h.token.val[0]] = h.deser(matches.slice(matchIndex, matchIndex + groups));\r\n        }\r\n        matchIndex += groups;\r\n      }\r\n    }\r\n    return [matches, all];\r\n  } else {\r\n    return [matches, {}];\r\n  }\r\n}\r\n\r\nfunction dateTimeFromMatches(matches) {\r\n  const toField = (token) => {\r\n    switch (token) {\r\n      case \"S\":\r\n        return \"millisecond\";\r\n      case \"s\":\r\n        return \"second\";\r\n      case \"m\":\r\n        return \"minute\";\r\n      case \"h\":\r\n      case \"H\":\r\n        return \"hour\";\r\n      case \"d\":\r\n        return \"day\";\r\n      case \"o\":\r\n        return \"ordinal\";\r\n      case \"L\":\r\n      case \"M\":\r\n        return \"month\";\r\n      case \"y\":\r\n        return \"year\";\r\n      case \"E\":\r\n      case \"c\":\r\n        return \"weekday\";\r\n      case \"W\":\r\n        return \"weekNumber\";\r\n      case \"k\":\r\n        return \"weekYear\";\r\n      case \"q\":\r\n        return \"quarter\";\r\n      default:\r\n        return null;\r\n    }\r\n  };\r\n\r\n  let zone = null;\r\n  let specificOffset;\r\n  if (!isUndefined(matches.z)) {\r\n    zone = IANAZone.create(matches.z);\r\n  }\r\n\r\n  if (!isUndefined(matches.Z)) {\r\n    if (!zone) {\r\n      zone = new FixedOffsetZone(matches.Z);\r\n    }\r\n    specificOffset = matches.Z;\r\n  }\r\n\r\n  if (!isUndefined(matches.q)) {\r\n    matches.M = (matches.q - 1) * 3 + 1;\r\n  }\r\n\r\n  if (!isUndefined(matches.h)) {\r\n    if (matches.h < 12 && matches.a === 1) {\r\n      matches.h += 12;\r\n    } else if (matches.h === 12 && matches.a === 0) {\r\n      matches.h = 0;\r\n    }\r\n  }\r\n\r\n  if (matches.G === 0 && matches.y) {\r\n    matches.y = -matches.y;\r\n  }\r\n\r\n  if (!isUndefined(matches.u)) {\r\n    matches.S = parseMillis(matches.u);\r\n  }\r\n\r\n  const vals = Object.keys(matches).reduce((r, k) => {\r\n    const f = toField(k);\r\n    if (f) {\r\n      r[f] = matches[k];\r\n    }\r\n\r\n    return r;\r\n  }, {});\r\n\r\n  return [vals, zone, specificOffset];\r\n}\r\n\r\nlet dummyDateTimeCache = null;\r\n\r\nfunction getDummyDateTime() {\r\n  if (!dummyDateTimeCache) {\r\n    dummyDateTimeCache = DateTime.fromMillis(1555555555555);\r\n  }\r\n\r\n  return dummyDateTimeCache;\r\n}\r\n\r\nfunction maybeExpandMacroToken(token, locale) {\r\n  if (token.literal) {\r\n    return token;\r\n  }\r\n\r\n  const formatOpts = Formatter.macroTokenToFormatOpts(token.val);\r\n  const tokens = formatOptsToTokens(formatOpts, locale);\r\n\r\n  if (tokens == null || tokens.includes(undefined)) {\r\n    return token;\r\n  }\r\n\r\n  return tokens;\r\n}\r\n\r\nexport function expandMacroTokens(tokens, locale) {\r\n  return Array.prototype.concat(...tokens.map((t) => maybeExpandMacroToken(t, locale)));\r\n}\r\n\r\n/**\r\n * @private\r\n */\r\n\r\nexport function explainFromTokens(locale, input, format) {\r\n  const tokens = expandMacroTokens(Formatter.parseFormat(format), locale),\r\n    units = tokens.map((t) => unitForToken(t, locale)),\r\n    disqualifyingUnit = units.find((t) => t.invalidReason);\r\n\r\n  if (disqualifyingUnit) {\r\n    return { input, tokens, invalidReason: disqualifyingUnit.invalidReason };\r\n  } else {\r\n    const [regexString, handlers] = buildRegex(units),\r\n      regex = RegExp(regexString, \"i\"),\r\n      [rawMatches, matches] = match(input, regex, handlers),\r\n      [result, zone, specificOffset] = matches\r\n        ? dateTimeFromMatches(matches)\r\n        : [null, null, undefined];\r\n    if (hasOwnProperty(matches, \"a\") && hasOwnProperty(matches, \"H\")) {\r\n      throw new ConflictingSpecificationError(\r\n        \"Can't include meridiem when specifying 24-hour format\"\r\n      );\r\n    }\r\n    return { input, tokens, regex, rawMatches, matches, result, zone, specificOffset };\r\n  }\r\n}\r\n\r\nexport function parseFromTokens(locale, input, format) {\r\n  const { result, zone, specificOffset, invalidReason } = explainFromTokens(locale, input, format);\r\n  return [result, zone, specificOffset, invalidReason];\r\n}\r\n\r\nexport function formatOptsToTokens(formatOpts, locale) {\r\n  if (!formatOpts) {\r\n    return null;\r\n  }\r\n\r\n  const formatter = Formatter.create(locale, formatOpts);\r\n  const parts = formatter.formatDateTimeParts(getDummyDateTime());\r\n  return parts.map((p) => tokenForPart(p, locale, formatOpts));\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}